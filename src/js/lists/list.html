<div class="lists-content">
  <h1 class="page-title">(CO)SPIRE</h1>
  <!-- <img src="/static/img/cospirelight.svg" alt="COSPIRE" /> -->
  <h2>
    "Implement your vision. Show others your glory.<br>
    Go ahead, make a list."
  </h2>
  <div class="task-list-wrapper">
    <ul class="task-list">
      <li>
        <form ng-submit="vm.addTask()">
          <input class="task-title-input" type="text" ng-model="vm.newTask.title" placeholder="new task">
          <button class="btn-right">add</button>
        </form>
      </li>
      <li ng-repeat="task in vm.tasks | statusFilter : vm.statusFilter">
        <button class="padding ng-class: task.status;" ng-class="task.status" ng-click="vm.toggleTask(task)">done</button>
        <div class="padding task-title" ng-click="vm.toggleDetail(task)">
          <span class="padding ng-class: task.status;">{{ task.title }}<span ng-if="task.isAssignment">!!</span></span>
        </div>
        <button class="task-delete" ng-click="vm.deleteTask(task)">X</button>

        <div ng-show="task.detail">
          <div class="padding">
            <label for="task-assign">assign task</label>
            <select name="task-assign" class="task-assign" ng-change="vm.assignTask(task)" ng-model="task.newAssignment">
              <option ng-repeat="user in vm.users" value ="{{user.email}}">
                {{user.name}}
              </option>
            </select><br>
          </div>
          <ul class="padding assigned-list">
            <li ng-repeat="assignee in task.assigned_to">{{assignee}}<button
              ng-click="vm.removeAssigned(task, assignee)">X</button></li>
          </ul>
          <div class="padding">
            <label for="date-due">Due:</label>
            <button class="set-date-btn" ng-show="task.settingDate" ng-click="vm.updateDate(task)">set date {{task.date_due.toISOString().slice(0, 10) || task.date_due}}</button>
            <button ng-hide="task.settingDate" ng-click="vm.toggleSettingDate(task)">{{task.date_due.toISOString().slice(0, 10) || task.date_due}}</button>
          </div>
          <div class="task-date-due" ng-show="task.settingDate">
            <div class="date-picker" ng-click="vm.updateDate(task)" name="date-due" ui-date="vm.dateOptions" type="text" placeholder="due date" ng-model="task.date_due"></div>
          </div>
        </div>
      </li>
      <li>
        <button class="list-view-filter" ng-click="vm.filterByAll()">all</button>
        <button class="list-view-filter" ng-click="vm.filterByNew()">new</button>
        <button class="list-view-filter" ng-click="vm.filterByStarted()">begun</button>
        <button class="list-view-filter" ng-click="vm.filterByDone()">done</button>
        <!-- <button class="list-view-filter" ng-click="vm.filterByAssignments()">done</button> -->
      </li>
    </ul>

  </div>


</div>
